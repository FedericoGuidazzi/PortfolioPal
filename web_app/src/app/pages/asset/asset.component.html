<div class="pb-5">
  <div class="col-10 mx-auto">
    <app-card-portfolio-valutation
      [data]="data"
    ></app-card-portfolio-valutation>
  </div>
  <div class="mt-5 mb-5 col-10 mx-auto">
    <div class="col-12 ratio ratio-2x1 mh-50">
      <canvas class="w-100 h-100" id="lineChartAsset"></canvas>
    </div>
    <div class="mt-3 d-flex justify-content-center">
      <div
        class="col-9 col-sm-6 col-md-4 p-2 selectors rounded-pill d-flex justify-content-around"
        id="selectorsDiv"
      >
        <div
          (click)="updateData('1S')"
          class="d-inline py-1 px-3 text-center active rounded-pill p-cursor"
          id="1S"
        >
          1S
        </div>
        @for (item of duration; track $index) {
        <div
          (click)="updateData(item)"
          class="d-inline py-1 px-3 text-center rounded-pill p-cursor"
          [id]="item"
        >
          {{ item }}
        </div>
        }
      </div>
    </div>
  </div>
  <div class="row justify-content-between col-10 mx-auto gap-3">
    <div
      class="card p-3 gap-3 flex-grow-1 flex-xl-grow-0 col-lg-8 col-md-6 rounded-20 mb-md-0"
    >
      <h2 class="fw-bold">Valore nel tuo Portfolio</h2>
      <p class="h-auto mb-0 d-grid">
        <span class="fw-bold fs-1 me-2 mb-3"
          >{{ assetData?.currency }} {{ assetData?.valueInPortfolio }}</span
        >
        @if (assetData?.sharesNumber!=0) {
        <span class="text-secondary"
          >Numero di shares: {{ assetData?.sharesNumber }}</span
        >
        } @if (assetData?.totalCost!=0) {
        <span class="text-secondary"
          >Spesa totale: {{ assetData?.totalCost }}</span
        >
        } @if (assetData?.currentValuation!=0) {
        <span class="text-secondary"
          >Valore attuale: {{ assetData?.currentValuation }}</span
        >
        } @if (assetData?.balance!=0) {
        <span class="text-secondary"
          >Bilancio attuale: {{ assetData?.balance }}</span
        >
        } @if (assetData?.averageCostPerShare!=0) {
        <span class="text-secondary"
          >Costo medio di ingresso: {{ assetData?.averageCostPerShare }}</span
        >
        }
      </p>
    </div>
    <div class="text-center card px-0 py-2 rounded-20 col-lg-3 col-md-4 gap-3">
      <h2 class="mx-auto fw-bold mb-0">Allocation</h2>
      <div
        class="mx-auto d-flex justify-content-center align-items-center col-8"
      >
        <canvas class="w-100 h-100" id="doughnutChartAsset"></canvas>
      </div>
    </div>
  </div>
  <div class="col-11 mx-auto">
    <app-history [transactions]="transactions"></app-history>
  </div>
  @if (assetData?.description) {
  <div class="card p-3 gap-3 mt-5 rounded-20 col-10 mx-auto">
    <h2 class="fw-bold">Descrizione asset</h2>
    <p>{{ assetData?.description }}</p>
  </div>
  }
</div>
